(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{209:function(t,s,e){var i={"./af":80,"./af.js":80,"./ar":81,"./ar-dz":82,"./ar-dz.js":82,"./ar-kw":83,"./ar-kw.js":83,"./ar-ly":84,"./ar-ly.js":84,"./ar-ma":85,"./ar-ma.js":85,"./ar-sa":86,"./ar-sa.js":86,"./ar-tn":87,"./ar-tn.js":87,"./ar.js":81,"./az":88,"./az.js":88,"./be":89,"./be.js":89,"./bg":90,"./bg.js":90,"./bm":91,"./bm.js":91,"./bn":92,"./bn.js":92,"./bo":93,"./bo.js":93,"./br":94,"./br.js":94,"./bs":95,"./bs.js":95,"./ca":96,"./ca.js":96,"./cs":97,"./cs.js":97,"./cv":98,"./cv.js":98,"./cy":99,"./cy.js":99,"./da":100,"./da.js":100,"./de":101,"./de-at":102,"./de-at.js":102,"./de-ch":103,"./de-ch.js":103,"./de.js":101,"./dv":104,"./dv.js":104,"./el":105,"./el.js":105,"./en-SG":106,"./en-SG.js":106,"./en-au":107,"./en-au.js":107,"./en-ca":108,"./en-ca.js":108,"./en-gb":109,"./en-gb.js":109,"./en-ie":110,"./en-ie.js":110,"./en-il":111,"./en-il.js":111,"./en-nz":112,"./en-nz.js":112,"./eo":113,"./eo.js":113,"./es":114,"./es-do":115,"./es-do.js":115,"./es-us":116,"./es-us.js":116,"./es.js":114,"./et":117,"./et.js":117,"./eu":118,"./eu.js":118,"./fa":119,"./fa.js":119,"./fi":120,"./fi.js":120,"./fo":121,"./fo.js":121,"./fr":122,"./fr-ca":123,"./fr-ca.js":123,"./fr-ch":124,"./fr-ch.js":124,"./fr.js":122,"./fy":125,"./fy.js":125,"./ga":126,"./ga.js":126,"./gd":127,"./gd.js":127,"./gl":128,"./gl.js":128,"./gom-latn":129,"./gom-latn.js":129,"./gu":130,"./gu.js":130,"./he":131,"./he.js":131,"./hi":132,"./hi.js":132,"./hr":133,"./hr.js":133,"./hu":134,"./hu.js":134,"./hy-am":135,"./hy-am.js":135,"./id":136,"./id.js":136,"./is":137,"./is.js":137,"./it":138,"./it-ch":139,"./it-ch.js":139,"./it.js":138,"./ja":140,"./ja.js":140,"./jv":141,"./jv.js":141,"./ka":142,"./ka.js":142,"./kk":143,"./kk.js":143,"./km":144,"./km.js":144,"./kn":145,"./kn.js":145,"./ko":146,"./ko.js":146,"./ku":147,"./ku.js":147,"./ky":148,"./ky.js":148,"./lb":149,"./lb.js":149,"./lo":150,"./lo.js":150,"./lt":151,"./lt.js":151,"./lv":152,"./lv.js":152,"./me":153,"./me.js":153,"./mi":154,"./mi.js":154,"./mk":155,"./mk.js":155,"./ml":156,"./ml.js":156,"./mn":157,"./mn.js":157,"./mr":158,"./mr.js":158,"./ms":159,"./ms-my":160,"./ms-my.js":160,"./ms.js":159,"./mt":161,"./mt.js":161,"./my":162,"./my.js":162,"./nb":163,"./nb.js":163,"./ne":164,"./ne.js":164,"./nl":165,"./nl-be":166,"./nl-be.js":166,"./nl.js":165,"./nn":167,"./nn.js":167,"./pa-in":168,"./pa-in.js":168,"./pl":169,"./pl.js":169,"./pt":170,"./pt-br":171,"./pt-br.js":171,"./pt.js":170,"./ro":172,"./ro.js":172,"./ru":173,"./ru.js":173,"./sd":174,"./sd.js":174,"./se":175,"./se.js":175,"./si":176,"./si.js":176,"./sk":177,"./sk.js":177,"./sl":178,"./sl.js":178,"./sq":179,"./sq.js":179,"./sr":180,"./sr-cyrl":181,"./sr-cyrl.js":181,"./sr.js":180,"./ss":182,"./ss.js":182,"./sv":183,"./sv.js":183,"./sw":184,"./sw.js":184,"./ta":185,"./ta.js":185,"./te":186,"./te.js":186,"./tet":187,"./tet.js":187,"./tg":188,"./tg.js":188,"./th":189,"./th.js":189,"./tl-ph":190,"./tl-ph.js":190,"./tlh":191,"./tlh.js":191,"./tr":192,"./tr.js":192,"./tzl":193,"./tzl.js":193,"./tzm":194,"./tzm-latn":195,"./tzm-latn.js":195,"./tzm.js":194,"./ug-cn":196,"./ug-cn.js":196,"./uk":197,"./uk.js":197,"./ur":198,"./ur.js":198,"./uz":199,"./uz-latn":200,"./uz-latn.js":200,"./uz.js":199,"./vi":201,"./vi.js":201,"./x-pseudo":202,"./x-pseudo.js":202,"./yo":203,"./yo.js":203,"./zh-cn":204,"./zh-cn.js":204,"./zh-hk":205,"./zh-hk.js":205,"./zh-tw":206,"./zh-tw.js":206};function n(t){var s=r(t);return e(s)}function r(t){if(!e.o(i,t)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return i[t]}n.keys=function(){return Object.keys(i)},n.resolve=r,t.exports=n,n.id=209},210:function(t,s,e){var i=e(218);"string"==typeof i&&(i=[[t.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};e(8)(i,n);i.locals&&(t.exports=i.locals)},217:function(t,s,e){"use strict";var i=e(210);e.n(i).a},218:function(t,s,e){(t.exports=e(7)(!1)).push([t.i,"\n.v-list__tile--active {\n  border-right: 6px solid #01579b;\n}\n",""])},55:function(t,s,e){"use strict";e.r(s);var i=e(76),n=e.n(i),r=[{title:"Tablero",url:"/admin",icon:"mdi mdi-chart-line",permission:"admin.index",exact:!0},{title:"Usuarios",url:"/admin/usuarios",icon:"mdi mdi-account-multiple",exact:!1,permission:"users.index"},{title:"Personas",url:"/admin/personas",icon:"mdi mdi-account-group",exact:!1,permission:"personas.index"},{title:"Descuentos",url:"/admin/descuentos",icon:"mdi mdi-sale",permission:"descuentos.index"},{title:"Haberes",url:"/admin/haberes",icon:"mdi mdi-cash-usd",permission:"haberes.index"},{title:"Historial de constancias",url:"/admin/historiales",icon:"mdi mdi-chart-histogram",permission:"historiales.index"},{title:"Pagos",icon:"mdi mdi-credit-card",url:"/admin/pagos",group:!0,permission:"pagos.index",submenu:[{title:"Lista de pagos",url:"/admin/pagos/lista",permission:"pagos.index"},{title:"Registrar pago",url:"/admin/pagos/crear",permission:"pagos.create"}]},{title:"Roles y Permisos",icon:"mdi mdi-security",url:"/admin/seguridad",group:!0,submenu:[{title:"Permisos",url:"/admin/seguridad/permisos",permission:"permisos.index"},{title:"Roles",url:"/admin/seguridad/roles",permission:"roles.index"}]},{title:"Importar",icon:"mdi mdi-upload",url:"/admin/importar",group:!0,permission:"importar.todos",submenu:[{title:"Haberes y Descuentos",url:"/admin/importar/haberes-descuentos",permission:"importar.descuentos"},{title:"Personas y Pagos",url:"/admin/importar/personas-pagos",permission:"importar.personas"}]},{title:"Reportes",icon:"mdi mdi-file-chart",url:"/admin/reporte",group:!0,permission:"pagos.consultar",submenu:[{title:"Por años",url:"/admin/reporte/rango-anual",permission:"pagos.consultar"},{title:"Por año",url:"/admin/reporte/anual",permission:"pagos.consultar"},{title:"Por mes",url:"/admin/reporte/mensual",permission:"pagos.consultar"}]}],a={props:{toggle:{type:Boolean,required:!0}},data:function(){return{drawer:!0,itemsMenu:r}},methods:{goTo:function(t){this.$router.push(t)},goToPerfil:function(){this.$router.push("/admin/perfil")},subIsActive:function(t){var s=this;return(Array.isArray(t)?t:[t]).some((function(t){return 0===s.$route.path.indexOf(t)}))}}},o=e(6),l={data:function(){return{snackbar:!1,timeout:6e3,text:"Hello, I'm a snackbardd",color:"success"}},methods:{show:function(t,s){this.text=t,this.snackbar=!0,s&&(this.color=s.color)},hide:function(){this.snackbar=!1}}},c={components:{SidebarAdminLeft:Object(o.a)(a,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("v-navigation-drawer",{attrs:{"mobile-break-point":"960",value:t.toggle,fixed:"",app:""},on:{input:function(s){return t.$emit("input",s)}}},[e("v-img",{staticStyle:{height:"180px"},attrs:{src:"/img/local_drea.png",gradient:"to top right, rgba(0,0,0,.5), rgba(25,32,72,.7)"}},[e("v-layout",{staticClass:"lightbox white--text",attrs:{"pa-2":"","fill-height":"",column:""}},[e("v-spacer"),t._v(" "),e("v-flex",{attrs:{shrink:"","pl-2":""}},[e("div",{staticClass:"subheading"},[t._v(t._s(t.$auth.user.user.name))]),t._v(" "),e("div",{staticClass:"body-1"},[t._v(t._s(t.$auth.user.user.dni))]),t._v(" "),e("v-btn",{staticStyle:{"margin-left":"0"},attrs:{color:"info"},on:{click:function(s){return t.goToPerfil()}}},[e("v-icon",[t._v("$vuetify.icons.user")]),t._v("Perfil\n        ")],1)],1)],1)],1),t._v(" "),e("v-list",{attrs:{dense:""}},[t._l(t.itemsMenu,(function(s,i){return[s.group?[t.$auth.can(s.permission)||t.$auth.isAdmin()?e("v-list-group",{key:i,attrs:{"prepend-icon":s.icon,value:t.subIsActive([s.url])},scopedSlots:t._u([{key:"activator",fn:function(){return[e("v-list-tile",[e("v-list-tile-title",[t._v(t._s(s.title))])],1)]},proxy:!0}],null,!0)},[t._v(" "),t._l(s.submenu,(function(s,i){return[t.$auth.can(s.permission)||t.$auth.isAdmin()?e("v-list-tile",{key:i,attrs:{router:"",to:s.url}},[e("v-list-tile-action"),t._v(" "),e("v-list-tile-title",{domProps:{textContent:t._s(s.title)}})],1):t._e()]}))],2):t._e()]:[t.$auth.can(s.permission)||t.$auth.isAdmin()?e("v-list-tile",{key:i,attrs:{router:"",to:s.url,exact:s.exact,"active-exact-class":"primary"}},[e("v-list-tile-action",[e("v-icon",[t._v(t._s(s.icon))])],1),t._v(" "),e("v-list-tile-title",[t._v(t._s(s.title))])],1):t._e()]]}))],2)],1)}),[],!1,null,null,null).exports,Snackbar:Object(o.a)(l,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("v-snackbar",{attrs:{color:t.color,timeout:t.timeout,top:"",right:""},model:{value:t.snackbar,callback:function(s){t.snackbar=s},expression:"snackbar"}},[t._v("\n    "+t._s(t.text)+"\n    "),e("v-btn",{attrs:{dark:"",flat:""},on:{click:function(s){t.snackbar=!1}}},[t._v("Cerrar")])],1)],1)}),[],!1,null,null,null).exports},name:"LayoutAdmin",data:function(){return{drawer:!0,unreadNotifications:[]}},methods:{OpenSidebar:function(){this.drawer=!this.drawer},goTo:function(t){this.$router.push(t)},LogOut:function(){axios.post("/logout").then((function(t){location.href="/"})).catch((function(t){console.log(t)}))},getUnReadNotifications:function(){var t=this;axios.get("/unread-notifications").then((function(s){return t.unreadNotifications=s.data[0]})).catch((function(t){return console.log(t)}))},markAsRead:function(){axios.get("/mark-all-read").then((function(t){return console.log(t)}))},getFormaterDate:function(t){return n.a.locale("es"),n()(t).fromNow()}},mounted:function(){this.$root.$snackbar=this.$refs.snackbar,this.getUnReadNotifications()}},u=(e(217),Object(o.a)(c,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("v-app",[e("snackbar",{ref:"snackbar"}),t._v(" "),e("sidebar-admin-left",{attrs:{toggle:t.drawer}}),t._v(" "),e("v-toolbar",{attrs:{dark:"",color:"info",app:""}},[e("v-toolbar-side-icon",{on:{click:function(s){return s.stopPropagation(),t.OpenSidebar(s)}}}),t._v(" "),e("v-toolbar-title",{staticClass:"white--text"},[t._v("SISTEMA DE CONSTANCIA DE PAGOS")]),t._v(" "),e("v-spacer"),t._v(" "),e("v-menu",{staticClass:"elelvation-1",attrs:{"offset-y":"",origin:"center center","nudge-bottom":0,transition:"scale-transition",bottom:""}},[e("v-btn",{attrs:{slot:"activator",icon:"",flat:""},on:{click:t.markAsRead},slot:"activator"},[e("v-badge",{attrs:{color:"indigo",rigth:"",overlap:""},scopedSlots:t._u([{key:"badge",fn:function(){return[t._v(t._s(t.unreadNotifications.length))]},proxy:!0}])},[t._v(" "),e("v-icon",[t._v("$vuetify.icons.bell")])],1)],1),t._v(" "),e("v-list",{staticClass:"scroll-y",staticStyle:{"max-height":"400px"}},[e("v-subheader",{staticClass:"indigo"},[e("h2",{staticClass:"text-white"},[t._v("Notificaciones")])]),t._v(" "),t.unreadNotifications.length>0?t._l(t.unreadNotifications,(function(s){return e("v-list-tile",{key:s.id,class:{white:null==s.read_at},staticStyle:{padding:"8px 5px"},on:{click:t.markAsRead}},[e("v-list-tile-content",[e("v-list-tile-title",[t._v(t._s(s.data.message))]),t._v(" "),e("v-list-tile-sub-title",[t._v(t._s(t.getFormaterDate(s.created_at)))])],1)],1)})):[e("v-list-tile",{staticStyle:{padding:"8px 5px"}},[e("v-list-tile-content",[e("v-list-tile-sub-title",[t._v("No tienes notificaciones")])],1)],1)]],2)],1),t._v(" "),e("v-btn",{attrs:{flat:""},on:{click:t.LogOut}},[e("v-icon",[t._v("$vuetify.icons.exit")]),t._v(" "),e("span",[t._v("Salir")])],1)],1),t._v(" "),e("v-content",[e("transition",{attrs:{name:"slide-fade"}},[e("router-view",{key:t.$route.fullPath})],1)],1)],1)}),[],!1,null,null,null));s.default=u.exports}}]);