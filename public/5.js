(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{209:function(t,s,a){var e={"./af":80,"./af.js":80,"./ar":81,"./ar-dz":82,"./ar-dz.js":82,"./ar-kw":83,"./ar-kw.js":83,"./ar-ly":84,"./ar-ly.js":84,"./ar-ma":85,"./ar-ma.js":85,"./ar-sa":86,"./ar-sa.js":86,"./ar-tn":87,"./ar-tn.js":87,"./ar.js":81,"./az":88,"./az.js":88,"./be":89,"./be.js":89,"./bg":90,"./bg.js":90,"./bm":91,"./bm.js":91,"./bn":92,"./bn.js":92,"./bo":93,"./bo.js":93,"./br":94,"./br.js":94,"./bs":95,"./bs.js":95,"./ca":96,"./ca.js":96,"./cs":97,"./cs.js":97,"./cv":98,"./cv.js":98,"./cy":99,"./cy.js":99,"./da":100,"./da.js":100,"./de":101,"./de-at":102,"./de-at.js":102,"./de-ch":103,"./de-ch.js":103,"./de.js":101,"./dv":104,"./dv.js":104,"./el":105,"./el.js":105,"./en-SG":106,"./en-SG.js":106,"./en-au":107,"./en-au.js":107,"./en-ca":108,"./en-ca.js":108,"./en-gb":109,"./en-gb.js":109,"./en-ie":110,"./en-ie.js":110,"./en-il":111,"./en-il.js":111,"./en-nz":112,"./en-nz.js":112,"./eo":113,"./eo.js":113,"./es":114,"./es-do":115,"./es-do.js":115,"./es-us":116,"./es-us.js":116,"./es.js":114,"./et":117,"./et.js":117,"./eu":118,"./eu.js":118,"./fa":119,"./fa.js":119,"./fi":120,"./fi.js":120,"./fo":121,"./fo.js":121,"./fr":122,"./fr-ca":123,"./fr-ca.js":123,"./fr-ch":124,"./fr-ch.js":124,"./fr.js":122,"./fy":125,"./fy.js":125,"./ga":126,"./ga.js":126,"./gd":127,"./gd.js":127,"./gl":128,"./gl.js":128,"./gom-latn":129,"./gom-latn.js":129,"./gu":130,"./gu.js":130,"./he":131,"./he.js":131,"./hi":132,"./hi.js":132,"./hr":133,"./hr.js":133,"./hu":134,"./hu.js":134,"./hy-am":135,"./hy-am.js":135,"./id":136,"./id.js":136,"./is":137,"./is.js":137,"./it":138,"./it-ch":139,"./it-ch.js":139,"./it.js":138,"./ja":140,"./ja.js":140,"./jv":141,"./jv.js":141,"./ka":142,"./ka.js":142,"./kk":143,"./kk.js":143,"./km":144,"./km.js":144,"./kn":145,"./kn.js":145,"./ko":146,"./ko.js":146,"./ku":147,"./ku.js":147,"./ky":148,"./ky.js":148,"./lb":149,"./lb.js":149,"./lo":150,"./lo.js":150,"./lt":151,"./lt.js":151,"./lv":152,"./lv.js":152,"./me":153,"./me.js":153,"./mi":154,"./mi.js":154,"./mk":155,"./mk.js":155,"./ml":156,"./ml.js":156,"./mn":157,"./mn.js":157,"./mr":158,"./mr.js":158,"./ms":159,"./ms-my":160,"./ms-my.js":160,"./ms.js":159,"./mt":161,"./mt.js":161,"./my":162,"./my.js":162,"./nb":163,"./nb.js":163,"./ne":164,"./ne.js":164,"./nl":165,"./nl-be":166,"./nl-be.js":166,"./nl.js":165,"./nn":167,"./nn.js":167,"./pa-in":168,"./pa-in.js":168,"./pl":169,"./pl.js":169,"./pt":170,"./pt-br":171,"./pt-br.js":171,"./pt.js":170,"./ro":172,"./ro.js":172,"./ru":173,"./ru.js":173,"./sd":174,"./sd.js":174,"./se":175,"./se.js":175,"./si":176,"./si.js":176,"./sk":177,"./sk.js":177,"./sl":178,"./sl.js":178,"./sq":179,"./sq.js":179,"./sr":180,"./sr-cyrl":181,"./sr-cyrl.js":181,"./sr.js":180,"./ss":182,"./ss.js":182,"./sv":183,"./sv.js":183,"./sw":184,"./sw.js":184,"./ta":185,"./ta.js":185,"./te":186,"./te.js":186,"./tet":187,"./tet.js":187,"./tg":188,"./tg.js":188,"./th":189,"./th.js":189,"./tl-ph":190,"./tl-ph.js":190,"./tlh":191,"./tlh.js":191,"./tr":192,"./tr.js":192,"./tzl":193,"./tzl.js":193,"./tzm":194,"./tzm-latn":195,"./tzm-latn.js":195,"./tzm.js":194,"./ug-cn":196,"./ug-cn.js":196,"./uk":197,"./uk.js":197,"./ur":198,"./ur.js":198,"./uz":199,"./uz-latn":200,"./uz-latn.js":200,"./uz.js":199,"./vi":201,"./vi.js":201,"./x-pseudo":202,"./x-pseudo.js":202,"./yo":203,"./yo.js":203,"./zh-cn":204,"./zh-cn.js":204,"./zh-hk":205,"./zh-hk.js":205,"./zh-tw":206,"./zh-tw.js":206};function n(t){var s=o(t);return a(s)}function o(t){if(!a.o(e,t)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return e[t]}n.keys=function(){return Object.keys(e)},n.resolve=o,t.exports=n,n.id=209},211:function(t,s,a){var e=a(221);"string"==typeof e&&(e=[[t.i,e,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a(8)(e,n);e.locals&&(t.exports=e.locals)},220:function(t,s,a){"use strict";var e=a(211);a.n(e).a},221:function(t,s,a){(t.exports=a(7)(!1)).push([t.i,"\n.v-card__title.no-padding-bottom {\n  padding-bottom: 0;\n}\n.v-card__text.no-padding-top {\n  padding-top: 0;\n}\n",""])},54:function(t,s,a){"use strict";a.r(s);var e=a(207),n=a.n(e),o={props:["color","icon","label","total"]},i=a(6),r=Object(i.a)(o,(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("v-card",[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"d-flex align-center w-30",class:t.color},[a("v-icon",{attrs:{dark:"",medium:""}},[t._v(t._s(t.icon))])],1),t._v(" "),a("div",{staticClass:"padding-small w-70"},[a("span",{staticClass:"title"},[t._v(t._s(t.total))]),t._v(" "),a("div",{staticClass:"body-2"},[t._v(t._s(t.label))])])])])}),[],!1,null,null,null).exports,l=a(215),c=l.c.reactiveProp,d={extends:l.a,mixins:[c],data:function(){return{options:{scales:{yAxes:[{ticks:{beginAtZero:!0,callback:function(t,s,a){return"S/. "+t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+".00"}},gridLines:{display:!0}}],xAxes:[{gridLines:{display:!1}}]},legend:{display:!0},tooltips:{mode:"label",label:"mylabel",callbacks:{label:function(t,s){return"S/. "+t.yLabel.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}},responsive:!0,maintainAspectRatio:!1}}},mounted:function(){this.renderChart(this.chartData,this.options)}},u=Object(i.a)(d,void 0,void 0,!1,null,null,null).exports,v=l.c.reactiveProp,j={extends:l.b,props:{title:String},mixins:[v],data:function(){return{options:{title:{display:!0,text:this.title},legend:{display:!0},plugins:{labels:{render:function(t){return"$"+t.value},arc:!0}},responsive:!0,maintainAspectRatio:!1}}},mounted:function(){this.renderChart(this.chartData,this.options)}};function h(t,s,a,e,n,o,i){try{var r=t[o](i),l=r.value}catch(t){return void a(t)}r.done?s(l):Promise.resolve(l).then(e,n)}var m,p,f={components:{CountItem:r,BarChart:u,PieChart:Object(i.a)(j,void 0,void 0,!1,null,null,null).exports},data:function(){return{count_items:[],dataConstanciasByUsers:[],dataPagos:{},dataPersonas:{},dataConstancias:{},anio:String((new Date).getFullYear()),items:[]}},created:function(){document.title="Tablero de Resumenes",this.getCount(),this.getTotalPagos(),this.getTotalPersonas(),this.getTotalConstancias(),this.getTotalConstanciasByUsers(),this.getYears()},mounted:function(){this.getTotalPagos()},methods:{getYears:function(){var t=this;axios.get("/periodos").then((function(s){return t.items=s.data.years})).catch((function(t){return console.log(t)}))},getCount:function(){var t=this;axios.get("/getCount").then((function(s){return t.count_items=s.data.totales})).catch((function(t){return console.log(t)}))},getTotalPagos:(m=n.a.mark((function t(){var s;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,axios.get("/getTotalPagos",{params:{anio:this.anio}});case 3:s=t.sent,this.dataPagos={labels:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Deciembre"],datasets:s.data.total_pagos},t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})),p=function(){var t=this,s=arguments;return new Promise((function(a,e){var n=m.apply(t,s);function o(t){h(n,a,e,o,i,"next",t)}function i(t){h(n,a,e,o,i,"throw",t)}o(void 0)}))},function(){return p.apply(this,arguments)}),getTotalPersonas:function(){var t=this;axios.get("/getTotalPersonas").then((function(s){t.dataPersonas={labels:["Activos","Cesantes","Sobrevivientes"],datasets:s.data.total_personas}})).catch((function(t){return console.log(t)}))},getTotalConstancias:function(){var t=this;axios.get("/getTotalConstancias").then((function(s){t.dataConstancias={labels:["Por rango de años","Por año","Por mes"],datasets:s.data.total_constancias}})).catch((function(t){return console.log(t)}))},getTotalConstanciasByUsers:function(){var t=this;axios.get("/getTotalConstanciasByUsers").then((function(s){t.dataConstanciasByUsers=s.data.totales})).catch((function(t){return console.log(t)}))},filterBy:function(t){this.estado=t,this.getTotalPagos()},filterByYear:function(){this.getTotalPagos()}}},g=(a(220),Object(i.a)(f,(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("v-container",{attrs:{fluid:"","grid-list-md":""}},[a("v-layout",{staticClass:"mb-3",attrs:{row:"",wrap:""}},[t.$auth.can("admin.index")||t.$auth.isAdmin()?a("v-flex",{attrs:{xs12:""}},[a("span",{staticClass:"headline"},[t._v("Tablero de resumenes")])]):a("v-flex",{attrs:{xs12:""}},[a("v-alert",{attrs:{value:!0,type:"info"}},[a("span",{staticClass:"headline"},[t._v("Usted no tiene ningún permiso, comuníquese con el administrador del sistema.")])])],1)],1),t._v(" "),t.$auth.can("admin.index")||t.$auth.isAdmin()?a("v-layout",{staticClass:"mb-2",attrs:{row:"",wrap:""}},t._l(t.count_items,(function(t,s){return a("v-flex",{key:s,attrs:{xs12:"",sm4:"",md3:""}},[a("count-item",{attrs:{color:t.color,icon:t.icon,label:t.label,total:t.total}})],1)})),1):t._e(),t._v(" "),t.$auth.can("admin.index")||t.$auth.isAdmin()?a("v-layout",{attrs:{row:"",wrap:""}},[t.$auth.isAdmin()?[a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-list",[a("v-subheader",[a("h2",[t._v("Cantidad de constancias de pago entregadas por usuario")])]),t._v(" "),t._l(t.dataConstanciasByUsers,(function(s){return a("v-list-tile",{key:s.dni},[a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(s.nombre))]),t._v(" "),a("v-list-tile-sub-title",[t._v("DNI: "+t._s(s.dni))])],1),t._v(" "),a("v-spacer"),t._v(" "),a("div",[a("v-chip",{attrs:{color:"info","text-color":"white"}},[a("h3",[t._v("Por años: "+t._s(s.total_anios))]),t._v(" "),a("v-icon",{attrs:{right:""}},[t._v("$vuetify.icons.file")])],1),t._v(" "),a("v-chip",{attrs:{color:"error","text-color":"white"}},[a("h3",[t._v("Por año: "+t._s(s.total_anio))]),t._v(" "),a("v-icon",{attrs:{right:""}},[t._v("$vuetify.icons.file")])],1),t._v(" "),a("v-chip",{attrs:{color:"indigo","text-color":"white"}},[a("h3",[t._v("Por mes: "+t._s(s.total_mes))]),t._v(" "),a("v-icon",{attrs:{right:""}},[t._v("$vuetify.icons.file")])],1)],1)],1)}))],2)],1)],1)]:t._e(),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-card-title",{staticClass:"no-padding-bottom"},[a("v-layout",{attrs:{row:"","align-center":""}},[a("v-flex",{attrs:{xs1:""}},[a("v-tooltip",{attrs:{bottom:""}},[a("v-icon",{attrs:{slot:"activator"},slot:"activator"},[t._v("$vuetify.icons.filter")]),t._v(" "),a("span",[t._v("Filtar o ver los total de pagos por año y estado de personas")])],1)],1),t._v(" "),a("v-flex",{staticClass:"text-center",attrs:{xs12:"",sm4:""}},[a("v-select",{attrs:{items:t.items,"item-text":"anio","item-value":"anio",label:"Seleccionar el año"},on:{input:function(s){return t.filterByYear()}},model:{value:t.anio,callback:function(s){t.anio=s},expression:"anio"}})],1)],1)],1),t._v(" "),a("v-card-text",{staticClass:"no-padding-top"},[a("bar-chart",{attrs:{"chart-data":t.dataPagos}})],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-card",[a("v-card-text",[a("pie-chart",{attrs:{"chart-data":t.dataPersonas,title:"Cantidad de personas por estado"}})],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-card",[a("v-card-text",[a("pie-chart",{attrs:{"chart-data":t.dataConstancias,title:"Cantidad de constancias por tipo de reporte"}})],1)],1)],1)],2):t._e()],1)}),[],!1,null,null,null));s.default=g.exports}}]);